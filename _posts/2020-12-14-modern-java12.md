---
title: 모던 자바 인 액션 - 16장 CompletableFuture - 안정적 비동기 프로그래밍
description: 모던 자바 인 액션 - 16장 CompletableFuture - 안정적 비동기 프로그래밍
categories:
 - dev
tags:
 - java
comments: true
---
> Modern Java In Action 정리 - CompletableFuture - 안정적 비동기 프로그래밍

  * 비동기 작업을 만들고 결과 얻기
  * 비블록 동작으로 생산성 높이기
  * 비동기 API 설계와 구현
  * 동기 API를 비동기적으로 소비하기
  * 두 개 이상의 비동기 연산을 파이프라인으로 만들고 합치기
  * 비동기 작업 완료에 대응하기

`모던 자바 인 액션 책을 보고 정리한 글입니다.` 

작성중인 글입니다.

## Future의 단순활용
* Java 5 부터 미래의 어느 시점에 결과를 얻는 모델에 활용할수 있도록 Future 인터페이스를 제공하고 있다. 
* 시간이 걸리는 작업들을 Future 내부에 설정하여 호출자 스레드가 결과를 기다리는 동안 다른 유용한 작업들을 할 수 있다. 

```java
ExecutorService es =ex.newCachedThreadPool();
Future<Double> future = ex.submit(new Callable<Double>() {
  public Double call() {
    return doSomeLongComputation();
  }
})
doSomeThingElse();
future.get(1, TimeUnit.SECONDS); // 비동기 결과가 준비되어 있지 않으면 1초간 기다린다. 
```

* 위 예재와 같이 시간이 오래 걸리는 작업을 다른 스레드에서 처리하고 메인 스레드에서는 다른 작업들을 미리 수행할 수 있다. 
* 만약 결과가 준비되지 않았다면 작업이 완료될때까지 스레드를 블록할 수 있다. 이때 영원히 스레드가 종료되지 않는 경우를 대비하여 최대 타임아웃을 설정가능하다. 